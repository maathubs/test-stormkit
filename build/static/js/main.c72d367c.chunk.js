(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(10),r=a.n(o),l=(a(96),a(14)),i=a(12),c=a(18),m=a(19),u=a(21),p=a(37),d=a(38),h=a.n(d),g=a(39),b=a.n(g),f=a(3),v=a(166),N=a(169),E=a(4),w=a(80),y=a(159),C=a(160),k=a(157),S=a(41),P=a.n(S),O=a(170),j=a(155),D=Object(j.a)(function(e){return{error:{backgroundColor:e.palette.error.red},message:{display:"flex",alignItems:"center"},appbar:{margin:"0 auto",width:374,marginTop:e.spacing(1)},snackbar:{background:"red",color:"black",fontSize:17},icon:{padding:e.spacing(1)}}});function x(e){var t=D();return s.a.createElement("div",{className:t.appbar},""===e.userName&&e.blurName?s.a.createElement(O.a,{className:t.snackbar,message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(P.a,{className:Object(f.a)(t.icon,t.iconVariant)}),"Username is empty")}):null,""===e.userPassword&&e.blurPassword?s.a.createElement(O.a,{className:t.snackbar,message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(P.a,{className:Object(f.a)(t.icon,t.iconVariant)}),"Password is empty")}):null,e.errorMsg?s.a.createElement(O.a,{className:t.snackbar,message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(P.a,{className:t.icon}),"Enter all the fields")}):null)}var M=a(158);function F(){var e=Object(p.a)(['\n          query{\n            getuser(host:"','",port:"','") {\n              name,\n              sizeOnDisk,\n              empty\n            }\n          }      \n        ']);return F=function(){return e},e}var T=Object(w.a)({palette:{primary:k.a},overrides:{MuiInputLabel:{root:{color:"yellow",fontSize:13}}}}),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={value:"",focusName:!1,focusPassword:!1,blurPassword:!1,blurName:!1,userName:"",userPassword:"",hostName:"",portName:"",isClicked:!1,errorMsg:!1,single:null,multi:null,shrink:!1},a.connect=function(){a.state.hostName&&a.state.portName&&a.state.value?(a.setState({isClicked:!0}),console.log("button clicked",a.state),b.a.post("http://localhost:5000/graphql",{query:Object(N.a)(h()(F(),a.state.hostName,a.state.portName))}).then(function(e){var t=e.data;console.log("result.data",e.data),a.props.history.push({pathname:"/Home",query:{userData:t},state:{userData:t,hostName:a.state.hostName,portName:a.state.portName}})},function(e){a.setState({user:!0}),console.log(e)})):a.setState({errorMsg:!0})},a.handleChange=function(e){a.setState({value:e.target.value,shrink:!0})},a.handleChangeHost=function(e){a.setState({hostName:e.target.value})},a.handleChangePort=function(e){a.setState({portName:e.target.value})},a.handleChangeName=function(e){a.setState({userName:e.target.value})},a.handleChangePassword=function(e){a.setState({userPassword:e.target.value})},a.onFocusName=function(){a.setState({focusName:!0})},a.onFocusPassword=function(){a.setState({focusPassword:!0})},a.onBlurName=function(){a.setState({blurName:!0})},a.onBlurPassword=function(){a.setState({blurPassword:!0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("localData")&&localStorage.clear()}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("div",{className:t.fab},s.a.createElement(M.a,{title:"My App",style:{align:"center"},className:t.nav},"Import to Host"),s.a.createElement("div",null,s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(v.a,{id:"standard-with-placeholder",label:"Hostname",placeholder:"localhost",className:t.textField,margin:"normal",fullWidth:!0,onChange:function(t){e.handleChangeHost(t)}}),s.a.createElement("div",null,s.a.createElement(v.a,{id:"standard-with-placeholder",label:"Port",placeholder:"27017",className:t.textField,margin:"normal",fullWidth:!0,onChange:function(t){e.handleChangePort(t)}})),s.a.createElement("div",null,s.a.createElement(v.a,{select:!0,label:"Authentication",required:!0,className:t.textField,onChange:function(t){e.handleChange(t)},SelectProps:{native:!0,className:"option"},variant:"filled"},[{value:""},{value:"None"},{value:"Username/Password"},{value:"SCRAM-SHA-256"},{value:"Kerberos"},{value:"LDAP"}].map(function(e){return s.a.createElement("option",{className:t.option,key:e.value,value:e.value},e.value)}))),s.a.createElement("div",null,"Username/Password"===this.state.value?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(v.a,{id:"outlined-dense",label:"UserName",className:Object(f.a)(t.textField,t.dense),variant:"outlined",onFocus:this.onFocusName,onChange:function(t){e.handleChangeName(t)},onBlur:this.onBlurName}),this.state.blurName&&!this.state.userName?s.a.createElement(x,{blurName:this.state.blurName,userName:this.state.userName}):null),s.a.createElement("div",null,s.a.createElement(v.a,{label:"Password",className:Object(f.a)(t.textField,t.dense),onFocus:this.onFocusPassword,onBlur:this.onBlurPassword,onChange:function(t){e.handleChangePassword(t)},type:"password",variant:"outlined"}),this.state.blurPassword&&!this.state.userPassword?s.a.createElement(x,{blurPassword:this.state.blurPassword,userPassword:this.state.userPassword}):null)):null))),s.a.createElement(y.a,{theme:T},s.a.createElement(C.a,{variant:"contained",color:"primary",className:t.margin,onClick:this.connect},"Connect"),!this.state.errorMsg||this.state.hostName&&this.state.portName&&this.state.value?null:s.a.createElement(x,{errorMsg:this.state.errorMsg})))}}]),t}(n.Component),I=Object(E.a)(function(e){return{fab:{margin:"0 auto",width:"39%",marginTop:e.spacing(6)},appbar:{margin:"0 auto",width:374,marginTop:e.spacing(10)},textField:{width:489,marginTop:e.spacing(4)},dense:{marginTop:e.spacing(4)},margin:{marginLeft:e.spacing(44),marginTop:e.spacing(4)},main:{marginLeft:e.spacing(6),marginTop:e.spacing(5)},nav:{background:"black",height:45,paddingLeft:e.spacing(7),justifyContent:"center",alignItems:"center"},menu:{width:200},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(4)},option:{fontSize:10}}})(H),q=a(42),z=a(161),A=a(165),B=a(164),L=a(162),$=a(163),W=Object(j.a)(function(e){return{error:{backgroundColor:e.palette.error.red},message:{display:"flex",alignItems:"center"},appbar:{margin:"0 auto",width:374,marginTop:e.spacing(1)},snackbar:{background:"red",color:"black",fontSize:17},icon:{padding:e.spacing(1)}}});function J(e){var t=W();return s.a.createElement("div",{className:t.appbar},s.a.createElement(O.a,{className:t.snackbar,message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(P.a,{className:Object(f.a)(t.icon,t.iconVariant)}),"Can not export the Database ",e.dbName)}))}function U(){var e=Object(p.a)(['\n        query{\n          getcollection(host:"','",port:"','",dbname:"','") {\n            name,\n            type,\n          }\n        }      \n      ']);return U=function(){return e},e}var V=Object(w.a)({palette:{primary:k.a}}),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={users:[],dbname:"",emptyCollection:!1,errorMsg:""},a.collections=function(e){console.log("called collections",e,a.state),console.log("button clicked",a.state),b.a.post("http://localhost:5000/graphql",{query:Object(N.a)(h()(U(),a.state.hostName,a.state.portName,e.name))}).then(function(t){if(a.setState({dbname:e.name}),t.data.data.getcollection.length>0){var n=t.data;console.log("result.data",n),a.props.history.push({pathname:"/Collections",query:{userData:n},state:{userData:n,user:a.state.users,hostName:a.state.hostName,portName:a.state.portName,dbName:a.state.dbname}})}else a.setState({emptyCollection:!0,errorMsg:!0})},function(e){a.setState({user:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("localData")){var e=localStorage.getItem("localData"),t=JSON.parse(e);console.log("localData in else",JSON.parse(e));var a=t.hostName,n=t.portName,s=t.userData.data.getuser;console.log("hostname",a,n,s),this.setState({users:s,hostName:a,portName:n})}else{console.log(this.props.location);var o=this.props.location.state.userData.data.getuser,r=this.props.location.state.hostName,l=this.props.location.state.portName;localStorage.setItem("localData",JSON.stringify(this.props.location.state));var i=localStorage.getItem("localData");console.log(i),this.setState({users:o,hostName:r,portName:l})}}},{key:"render",value:function(){var e=this;console.log("dbName",this.state);var t=this.props.classes;return s.a.createElement("div",{className:t.divele},s.a.createElement(z.a,{className:t.link,color:"secondary"},s.a.createElement(L.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{align:"center"},"Name"),s.a.createElement(B.a,{align:"center"},"sizeOnDisk"),s.a.createElement(B.a,{align:"center"},"empty"))),s.a.createElement(A.a,null,this.state.users.map(function(a){return s.a.createElement($.a,{key:a.name},s.a.createElement(B.a,{align:"center"},s.a.createElement(q.b,{className:t.link,onClick:function(){e.collections(a)}},a.name)),s.a.createElement(B.a,{align:"center"},s.a.createElement(q.b,{className:t.link,to:{pathname:"/Collections",state:{userdetails:{user:a}}}},a.sizeOnDisk)),s.a.createElement(B.a,{align:"center"},s.a.createElement(q.b,{className:t.link,to:{pathname:"/Collections",state:{userdetails:{user:a}}}},a.empty)))}))),s.a.createElement(y.a,{theme:V},this.state.errorMsg&&this.state.emptyCollection?s.a.createElement(J,{dbName:this.state.dbname,errorMsg:this.state.errorMsg}):null))}}]),t}(n.Component),R=Object(E.a)(function(e){return{root:{width:"70%",marginTop:e.spacing(2),overflowX:"auto",fontSize:40,color:"red",alignItems:"center",background:"cornflowerblue",justifyContent:"center"},table:{minWidth:200,background:"bisque",alignItems:"center"},link:{color:"blue",fontSize:"15px",textDecoration:"none",background:"bisque"},divele:{fontSize:"10",width:"50%",margin:"0 auto",marginTop:e.spacing(8)},linkPath:{color:"blue",fontSize:"15px",textDecoration:"none"},margin:{marginTop:e.spacing(4),justifyContent:"center"}}})(K),X=a(34);function G(){var e=Object(p.a)(["\n          mutation adduser($host:String!,$port:String!,$impHost:String!,$impPort:String,$impDb:String,$collectionList:String!){\n            adduser(host:$host,port:$port,impHost:$impHost,impPort:$impPort,impDb:$impDb,collectionList:$collectionList) \n          },\n        "]);return G=function(){return e},e}var Q=Object(w.a)({palette:{primary:k.a}}),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={value:"",focusName:!1,focusPassword:!1,blurPassword:!1,blurName:!1,userName:"",userPassword:"",hostName:"",portName:"",isClicked:!1,errorMsg:!1,progressValue:0},a.connect=function(){if(a.state.hostName&&a.state.portName&&a.state.value){console.log("button clicked in export",a.state);var e=a.state.impSelectedCollection.toString();b.a.post("http://localhost:5000/graphql",{query:Object(N.a)(h()(G())),variables:{host:a.state.hostName,port:a.state.portName,impHost:a.state.impHostname,impPort:a.state.impPortname,impDb:a.state.impDbname,collectionList:e}}).then(function(e){console.log("result",JSON.parse(e.data.data.adduser)),console.log("result without parsing",e),a.props.history.push({pathname:"/Exportlist",query:{userData:JSON.parse(e.data.data.adduser)},state:{users:JSON.parse(e.data.data.adduser)}})},function(e){console.log(e)})}else a.setState({errorMsg:!0})},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleChangeHost=function(e){a.setState({hostName:e.target.value})},a.handleChangePort=function(e){a.setState({portName:e.target.value})},a.handleChangeName=function(e){a.setState({userName:e.target.value})},a.handleChangePassword=function(e){a.setState({userPassword:e.target.value})},a.onFocusName=function(){a.setState({focusName:!0})},a.onFocusPassword=function(){a.setState({focusPassword:!0})},a.onBlurName=function(){a.setState({blurName:!0})},a.onBlurPassword=function(){a.setState({blurPassword:!0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.impHostname,t=this.props.location.state.impPortname,a=this.props.location.state.impDbname,n=this.props.location.state.userData;this.setState({impHostname:e,impPortname:t,impDbname:a,impSelectedCollection:n})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("div",{className:t.fab},s.a.createElement(M.a,{title:"My App",style:{align:"center"},className:t.nav},"Export from Host"),s.a.createElement("div",null,s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(v.a,{id:"standard-with-placeholder",label:"Hostname",placeholder:"localhost",className:t.textField,margin:"normal",fullWidth:!0,onChange:function(t){e.handleChangeHost(t)}}),s.a.createElement("div",null,s.a.createElement(v.a,{id:"standard-with-placeholder",label:"Port",placeholder:"27017",className:t.textField,margin:"normal",fullWidth:!0,onChange:function(t){e.handleChangePort(t)}})),s.a.createElement("div",null,s.a.createElement(v.a,{select:!0,label:"Authentication",required:!0,className:t.textField,onChange:function(t){e.handleChange(t)},SelectProps:{native:!0,MenuProps:{className:t.menu}},margin:"normal",variant:"filled",fullWidth:!0},[{value:""},{value:"None"},{value:"Username/Password"},{value:"SCRAM-SHA-256"},{value:"Kerberos"},{value:"LDAP"}].map(function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.value)}))),s.a.createElement("div",null,"Username/Password"===this.state.value?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(v.a,{id:"outlined-dense",label:"UserName",className:Object(f.a)(t.textField,t.dense),variant:"outlined",onFocus:this.onFocusName,onChange:function(t){e.handleChangeName(t)},onBlur:this.onBlurName}),this.state.blurName&&!this.state.userName?s.a.createElement(x,{blurName:this.state.blurName,userName:this.state.userName}):null),s.a.createElement("div",null,s.a.createElement(v.a,{label:"Password",className:Object(f.a)(t.textField,t.dense),onFocus:this.onFocusPassword,onBlur:this.onBlurPassword,onChange:function(t){e.handleChangePassword(t)},type:"password",variant:"outlined"}),this.state.blurPassword&&!this.state.userPassword?s.a.createElement(x,{blurPassword:this.state.blurPassword,userPassword:this.state.userPassword}):null)):null))),s.a.createElement(y.a,{theme:Q},s.a.createElement(C.a,{variant:"contained",color:"primary",className:t.margin,onClick:this.connect},"Export"),!this.state.errorMsg||this.state.hostName&&this.state.portName&&this.state.value?null:s.a.createElement(x,{errorMsg:this.state.errorMsg})))}}]),t}(n.Component),Z=Object(E.a)(function(e){return{fab:{margin:"0 auto",width:"39%",marginTop:e.spacing(10)},appbar:{margin:"0 auto",width:374,marginTop:e.spacing(10)},app:{background:"red"},textField:{width:489,marginTop:e.spacing(2)},margin:{marginLeft:e.spacing(44),marginTop:e.spacing(4)},nav:{background:"black",height:45,paddingLeft:e.spacing(7),justifyContent:"center",alignItems:"center"}}})(Y),_=a(79),ee=a.n(_),te=a(168),ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={dbNames:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.users;console.log("dbnames",e),this.setState({dbNames:e})}},{key:"render",value:function(){var e=this.props.classes,t=s.a.createElement(ee.a,null);return s.a.createElement("div",{className:e.root},s.a.createElement("div",{className:e.divele},this.state.dbNames.map(function(a){return s.a.createElement(te.a,{key:a.name,variant:"outlined",label:a.name,icon:t,className:e.chip,color:"secondary"})})))}}]),t}(n.Component),ne=Object(E.a)(function(e){return{root:{width:"37%",margin:"0 auto",marginTop:e.spacing(8),background:"bisque"},divele:{fontSize:"10",width:"11%",margin:"0 auto",marginTop:e.spacing(8)},link:{color:"blue",fontSize:"15px",textDecoration:"none",background:"bisque"},linkPath:{color:"blue",fontSize:"15px",textDecoration:"none"},margin:{marginTop:e.spacing(4),justifyContent:"center"},chip:{margin:e.spacing(.5)}}})(ae),se=a(25),oe=a(26),re=a(167),le=Object(w.a)({palette:{primary:k.a}}),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={users:[],checked:!1},a.handleInputChange=a.handleInputChange.bind(Object(oe.a)(a)),a.collections=function(){if(a.state.selectedCollection.length>0)console.log("this.state.selectedCollection",a.state.selectedCollection),a.props.history.push({pathname:"/Export",state:{userData:a.state.selectedCollection,impDbname:a.state.dbName,impHostname:a.state.hostName,impPortname:a.state.portName}});else{console.log("usersssss",a.state.users);var e=[],t=!0,n=!1,s=void 0;try{for(var o,r=a.state.users[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var l=o.value;e.push(l.name)}}catch(i){n=!0,s=i}finally{try{t||null==r.return||r.return()}finally{if(n)throw s}}console.log("arr",e),a.props.history.push({pathname:"/Export",state:{userData:e,impDbname:a.state.dbName,impHostname:a.state.hostName,impPortname:a.state.portName}})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.location.state);var e=this.props.location.state.userData.data.getcollection,t=this.props.location.state.hostName,a=this.props.location.state.portName,n=this.props.location.state.dbName;console.log(e),this.setState({dbName:n,users:e,hostName:t,portName:a,checked:!1,selectedCollection:[]})}},{key:"handleInputChange",value:function(e){if(console.log("event.target.value",e.target.value),this.state.selectedCollection)var t=Object(se.a)(this.state.selectedCollection);if(-1!==t.indexOf(e.target.value)){console.log("value exists");var a=t.indexOf(e.target.value);a>-1&&t.splice(a,1)}else t.push(e.target.value);this.setState({selectedCollection:t}),t.forEach(function(e){console.log("element",e)})}},{key:"render",value:function(){var e=this;console.log("this.state",this.state.selectedCollection);var t=this.props.classes;return s.a.createElement("div",{className:t.divele},s.a.createElement(z.a,{className:t.link,color:"secondary"},s.a.createElement(L.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{align:"center"},"name"),s.a.createElement(B.a,{align:"center"},"Type"),s.a.createElement(B.a,{align:"center"},"Select"))),s.a.createElement(A.a,null,this.state.users.map(function(t){return s.a.createElement($.a,{key:t.name},s.a.createElement(B.a,{align:"center"},t.name),s.a.createElement(B.a,{align:"center"},t.type),s.a.createElement(B.a,{align:"center"},s.a.createElement(re.a,{value:t.name,onClick:e.handleInputChange,checked:t.checked})))}))),s.a.createElement(y.a,{theme:le},s.a.createElement(C.a,{variant:"contained",color:"primary",allign:"center",className:t.margin,onClick:this.collections},"Next")))}}]),t}(n.Component),ce=Object(E.a)(function(e){return{root:{width:"70%",marginTop:e.spacing(2),overflowX:"auto",fontSize:40,color:"red",alignItems:"center",background:"cornflowerblue",justifyContent:"center"},table:{minWidth:200,background:"bisque",alignItems:"center"},link:{color:"blue",fontSize:"15px",textDecoration:"none",background:"bisque"},divele:{fontSize:"10",width:"50%",margin:"0 auto",marginTop:e.spacing(8)},linkPath:{color:"blue",fontSize:"15px",textDecoration:"none"},margin:{marginTop:e.spacing(4),justifyContent:"center"}}})(ie),me=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(q.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(X.d,null,s.a.createElement(X.b,{path:"/Login",component:I}),s.a.createElement(X.b,{path:"/Home",component:R}),s.a.createElement(X.b,{path:"/Export",component:Z}),s.a.createElement(X.b,{path:"/Exportlist",component:ne}),s.a.createElement(X.b,{path:"/Collections",component:ce}),s.a.createElement(X.a,{from:"/",exact:!0,to:"/Login"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e,t,a){e.exports=a(121)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.c72d367c.chunk.js.map